<!DOCTYPE html>

<html>

<head>

<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta http-equiv="X-UA-Compatible" content="IE=EDGE" />


<meta name="author" content="Professor Lauren Cipriano" />

<meta name="date" content="2024-05-05" />

<title>Tutorial 1: Working with data</title>

<script src="site_libs/header-attrs-2.25/header-attrs.js"></script>
<script src="site_libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/united.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<style>h1 {font-size: 34px;}
       h1.title {font-size: 38px;}
       h2 {font-size: 30px;}
       h3 {font-size: 24px;}
       h4 {font-size: 18px;}
       h5 {font-size: 16px;}
       h6 {font-size: 12px;}
       code {color: inherit; background-color: rgba(0, 0, 0, 0.04);}
       pre:not([class]) { background-color: white }</style>
<script src="site_libs/jqueryui-1.13.2/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/default.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>

<style type="text/css">
  code{white-space: pre-wrap;}
  span.smallcaps{font-variant: small-caps;}
  span.underline{text-decoration: underline;}
  div.column{display: inline-block; vertical-align: top; width: 50%;}
  div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  ul.task-list{list-style: none;}
    </style>

<style type="text/css">code{white-space: pre;}</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>






<link rel="stylesheet" href="laurens_styles.css" type="text/css" />



<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
img {
  max-width:100%;
}
.tabbed-pane {
  padding-top: 12px;
}
.html-widget {
  margin-bottom: 20px;
}
button.code-folding-btn:focus {
  outline: none;
}
summary {
  display: list-item;
}
details > summary > p:only-child {
  display: inline;
}
pre code {
  padding: 0;
}
</style>


<style type="text/css">
.dropdown-submenu {
  position: relative;
}
.dropdown-submenu>.dropdown-menu {
  top: 0;
  left: 100%;
  margin-top: -6px;
  margin-left: -1px;
  border-radius: 0 6px 6px 6px;
}
.dropdown-submenu:hover>.dropdown-menu {
  display: block;
}
.dropdown-submenu>a:after {
  display: block;
  content: " ";
  float: right;
  width: 0;
  height: 0;
  border-color: transparent;
  border-style: solid;
  border-width: 5px 0 5px 5px;
  border-left-color: #cccccc;
  margin-top: 5px;
  margin-right: -10px;
}
.dropdown-submenu:hover>a:after {
  border-left-color: #adb5bd;
}
.dropdown-submenu.pull-left {
  float: none;
}
.dropdown-submenu.pull-left>.dropdown-menu {
  left: -100%;
  margin-left: 10px;
  border-radius: 6px 0 6px 6px;
}
</style>

<script type="text/javascript">
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark the anchor link active (and if it's in a dropdown, also mark that active)
  var dropdown = menuAnchor.closest('li.dropdown');
  if (window.bootstrap) { // Bootstrap 4+
    menuAnchor.addClass('active');
    dropdown.find('> .dropdown-toggle').addClass('active');
  } else { // Bootstrap 3
    menuAnchor.parent().addClass('active');
    dropdown.addClass('active');
  }

  // Navbar adjustments
  var navHeight = $(".navbar").first().height() + 15;
  var style = document.createElement('style');
  var pt = "padding-top: " + navHeight + "px; ";
  var mt = "margin-top: -" + navHeight + "px; ";
  var css = "";
  // offset scroll position for anchor links (for fixed navbar)
  for (var i = 1; i <= 6; i++) {
    css += ".section h" + i + "{ " + pt + mt + "}\n";
  }
  style.innerHTML = "body {" + pt + "padding-bottom: 40px; }\n" + css;
  document.head.appendChild(style);
});
</script>

<!-- tabsets -->

<style type="text/css">
.tabset-dropdown > .nav-tabs {
  display: inline-table;
  max-height: 500px;
  min-height: 44px;
  overflow-y: auto;
  border: 1px solid #ddd;
  border-radius: 4px;
}

.tabset-dropdown > .nav-tabs > li.active:before, .tabset-dropdown > .nav-tabs.nav-tabs-open:before {
  content: "\e259";
  font-family: 'Glyphicons Halflings';
  display: inline-block;
  padding: 10px;
  border-right: 1px solid #ddd;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li.active:before {
  content: "\e258";
  font-family: 'Glyphicons Halflings';
  border: none;
}

.tabset-dropdown > .nav-tabs > li.active {
  display: block;
}

.tabset-dropdown > .nav-tabs > li > a,
.tabset-dropdown > .nav-tabs > li > a:focus,
.tabset-dropdown > .nav-tabs > li > a:hover {
  border: none;
  display: inline-block;
  border-radius: 4px;
  background-color: transparent;
}

.tabset-dropdown > .nav-tabs.nav-tabs-open > li {
  display: block;
  float: none;
}

.tabset-dropdown > .nav-tabs > li {
  display: none;
}
</style>

<!-- code folding -->



<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}

@media print {
.toc-content {
  /* see https://github.com/w3c/csswg-drafts/issues/4434 */
  float: right;
}
}

.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>



</head>

<body>


<div class="container-fluid main-container">


<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">



<div class="navbar navbar-default  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <!-- NOTE: add "navbar-inverse" class for an alternate navbar background -->
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">Lauren's Awesome Textbook</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li><a href="index.html">Home</a></li>
        <li><a href="Lab1.html">Lab 1</a></li>
        <li><a href="PhD-Bootcamp-Lab-1.html">PhD Bootcamp Lab 1</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li><a href="https://github.com">GitHub</a></li>
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div id="header">



<h1 class="title toc-ignore">Tutorial 1: Working with data</h1>
<h4 class="author">Professor Lauren Cipriano</h4>
<h4 class="date">2024-05-05</h4>

</div>


<hr />
<hr />
<div id="part-1.-starting-with-data" class="section level2">
<h2>Part 1. Starting with Data</h2>
<div id="step-1.-import-the-datafile" class="section level3">
<h3>Step 1. Import the datafile</h3>
<hr />
<p>You can import data into R using the import wizard, but often it is
useful to change the working directory and import the data file using a
line of code.</p>
<p>One advantage of using a code line to import your data is that it is
easily reproducible.</p>
<pre class="r"><code># Set the working directory
setwd(&quot;C:/Users/Lauren/Dropbox/Ivey/2024 MSc Statistics/Labs/&quot;)</code></pre>
<pre class="r"><code># Import the data - as a csv file
data = read.csv(&quot;datasets/families.csv&quot;)</code></pre>
</div>
<div id="step-2.-view-your-data" class="section level3">
<h3>Step 2. View your data</h3>
<hr />
<pre class="r"><code>## Option 1. Open the dataset in another window.  It will look like a spreadsheet
View(data)</code></pre>
<pre class="r"><code>## Option 2. Call the dataset to print it in the coding window
data</code></pre>
<pre class="r"><code>## Option 3. Ask to see a section of the data 
# just the first 6 rows 
head(data)</code></pre>
<pre><code>##   TYPE PERSONS CHILDREN INCOME REGION EDUCATION
## 1    1       2        0  43450      1        39
## 2    1       2        0  79000      1        40
## 3    1       2        0  51306      1        39
## 4    1       4        2  24850      1        41
## 5    1       4        2  65145      1        43
## 6    3       3        2  23015      1        40</code></pre>
<pre class="r"><code># just the last 6 rows 
tail(data)</code></pre>
<pre><code>##       TYPE PERSONS CHILDREN INCOME REGION EDUCATION
## 43881    1       5        2  47264      4        41
## 43882    1       5        3  30800      4        36
## 43883    1       2        0  16684      4        34
## 43884    1       2        0  12000      4        39
## 43885    1       2        0  50022      4        34
## 43886    1       9        7  21082      4        39</code></pre>
</div>
<div id="step-3.-quick-report-on-data" class="section level3">
<h3>Step 3. Quick report on data</h3>
<hr />
<p>It is important to know how R sees each of your variables. Asking for
a summary of the data will provide summary statistics on the
data.frame.</p>
<pre class="r"><code>summary(data)</code></pre>
<pre><code>##       TYPE          PERSONS          CHILDREN          INCOME      
##  Min.   :1.000   Min.   : 2.000   Min.   :0.0000   Min.   :-22166  
##  1st Qu.:1.000   1st Qu.: 2.000   1st Qu.:0.0000   1st Qu.: 18300  
##  Median :1.000   Median : 3.000   Median :1.0000   Median : 34550  
##  Mean   :1.431   Mean   : 3.137   Mean   :0.9479   Mean   : 41336  
##  3rd Qu.:1.000   3rd Qu.: 4.000   3rd Qu.:2.0000   3rd Qu.: 55828  
##  Max.   :3.000   Max.   :25.000   Max.   :9.0000   Max.   :451887  
##      REGION        EDUCATION    
##  Min.   :1.000   Min.   :31.00  
##  1st Qu.:2.000   1st Qu.:39.00  
##  Median :3.000   Median :39.00  
##  Mean   :2.526   Mean   :39.42  
##  3rd Qu.:3.000   3rd Qu.:41.00  
##  Max.   :4.000   Max.   :46.00</code></pre>
<div id="step-3a.-deeper-description-of-data" class="section level4">
<h4>Step 3a. Deeper Description of Data</h4>
<p>The data set families contains information about 43,886 families
living in the city of Cyberville. The city has four regions. In these
exercises, we will learn about the families of Cyberville by using
sampling. For each family, the following information is recorded:</p>
<ol style="list-style-type: decimal">
<li>Family type<br />
<strong>1:</strong> Husband-wife family <strong>2:</strong> Male-head
family <strong>3:</strong> Female-head family<br />
</li>
<li>Number of persons in family<br />
</li>
<li>Number of children in family<br />
</li>
<li>Family income<br />
</li>
<li>Region<br />
<strong>1:</strong> North (10,149 families) <strong>2:</strong> East
(10,390) <strong>3:</strong> South (13,457) <strong>4:</strong> West
(9,890)<br />
</li>
<li>Education<br />
31: Less than 1st grade<br />
32: 1st, 2nd, 3rd, or 4th grade<br />
33: 5th or 6th grade<br />
34: 7th or 8th grade<br />
35: 9th grade<br />
36: 10th grade<br />
37: 11th grade<br />
38: 12th grade, no diploma<br />
39: High school graduate, high school diploma, or equivalent<br />
40: Some college but no degree<br />
41: Associate degree in college (occupation/vocation program)<br />
42: Associate degree in college (academic program)<br />
43: Bachelor’s degree (e.g., B.S., B.A., A.B.)<br />
44: Master’s degree (e.g., M.S., M.A., M.B.A.)<br />
45: Professional school degree (e.g., M.D., D.D.S., D.V.M., LL.B.,
J.D.)<br />
46: Doctoral degree (e.g. Ph.D., Ed.D.)</li>
</ol>
</div>
</div>
<div id="step-4.-assign-appropriate-variable-types"
class="section level3">
<h3>Step 4. Assign appropriate variable types</h3>
<hr />
<p><strong>Character:</strong> free text, a.k.a string<br />
<strong>Factor:</strong> Categorical values; actual values may be text
(North/South/East/West) or numbers (1/2/3/4)<br />
<strong>Logical:</strong> Binary (TRUE/FALSE)<br />
<strong>Integer:</strong> Whole numbers (1L/2L/3L/4L, the letter ‘L’
declares these as Integers)<br />
<strong>Numeric:</strong> Decimal Numbers (1.5/2.5/3.5/4.5)</p>
<div id="step-4a.-investigating-types" class="section level4">
<h4>Step 4a. Investigating types</h4>
<pre class="r"><code># Check the variable class of TYPE
class(data$TYPE)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="r"><code># See how many unique values TYPE has
unique(data$TYPE)</code></pre>
<pre><code>## [1] 1 3 2</code></pre>
<pre class="r"><code># Tell R that the TYPE column can only have 3 possible values (turn it into a factor)
data$TYPE = factor(data$TYPE, levels = c(1,2,3))

# Now check the class of TYPE
class(data$TYPE)</code></pre>
<pre><code>## [1] &quot;factor&quot;</code></pre>
<pre class="r"><code># If we try to assign an invalid value to row 1, column &quot;TYPE&quot;
data[1, &quot;TYPE&quot;] = 4</code></pre>
<pre><code>## Warning in `[&lt;-.factor`(`*tmp*`, iseq, value = 4): invalid factor level, NA
## generated</code></pre>
<pre class="r"><code># Warning: this assigns the value as NA, but lets you know you&#39;ve made a mistake
data[1, &quot;TYPE&quot;]</code></pre>
<pre><code>## [1] &lt;NA&gt;
## Levels: 1 2 3</code></pre>
<pre class="r"><code># Change it back to integer
data$TYPE = as.integer(data$TYPE)

class(data$TYPE)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="r"><code># Fixing NA from above
data = read.csv(&quot;datasets/families.csv&quot;)</code></pre>
</div>
<div id="step-4b.-assigning-new-types" class="section level4">
<h4>Step 4b. Assigning New Types</h4>
<pre class="r"><code># Turning TYPE into a factor with easy-to-understand labels
data$TYPE = factor(data$TYPE, levels = c(1,2,3), labels = c(&quot;Husband-wife family&quot;,
                                                            &quot;Male-head family&quot;,
                                                            &quot;Female-head family&quot;))

# Number of persons and children, and income are already integers
class(data$PERSONS); class(data$CHILDREN); class(data$INCOME)</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre><code>## [1] &quot;integer&quot;</code></pre>
<pre class="r"><code># Turn REGION into a factor
data$REGION = factor(data$REGION, levels = c(1,2,3,4), label = c(&quot;NORTH&quot;,
                                                                 &quot;EAST&quot;,
                                                                 &quot;SOUTH&quot;,
                                                                 &quot;WEST&quot;))

# New factor for education

# Turn Education Level into a factor, might have not been worth it...
data$EDUCATION = factor(data$EDUCATION, levels = c(31:46), label = c(&quot;&lt;1st grade&quot;, &quot;1-4th grade&quot;, &quot;5,6th grade&quot;, &quot;7,8th grade&quot;, &quot;9th grade&quot;, &quot;10th grade&quot;, &quot;11th grade&quot;, &quot;12th grade, no diploma&quot;, &quot;High school graduate or equivalent&quot;, &quot;Some college but no degree&quot;, &quot;Associate degree in college (occupation/vocation program)&quot;, &quot;Associate degree in college (academic program)&quot;, &quot;Bachelor&#39;s Degree&quot;, &quot;Master&#39;s Degree&quot;, &quot;Professional School Degree&quot;, &quot;Doctoral Degree&quot;))

# Now we can view the summary of our data again
summary(data)</code></pre>
<pre><code>##                   TYPE          PERSONS          CHILDREN          INCOME      
##  Husband-wife family:33403   Min.   : 2.000   Min.   :0.0000   Min.   :-22166  
##  Male-head family   : 2054   1st Qu.: 2.000   1st Qu.:0.0000   1st Qu.: 18300  
##  Female-head family : 8429   Median : 3.000   Median :1.0000   Median : 34550  
##                              Mean   : 3.137   Mean   :0.9479   Mean   : 41336  
##                              3rd Qu.: 4.000   3rd Qu.:2.0000   3rd Qu.: 55828  
##                              Max.   :25.000   Max.   :9.0000   Max.   :451887  
##                                                                                
##    REGION     
##  NORTH:10149  
##  EAST :10390  
##  SOUTH:13457  
##  WEST : 9890  
##               
##               
##               
##                                                      EDUCATION    
##  High school graduate or equivalent                       :15068  
##  Some college but no degree                               : 7536  
##  Bachelor&#39;s Degree                                        : 5812  
##  7,8th grade                                              : 2306  
##  Master&#39;s Degree                                          : 2242  
##  Associate degree in college (occupation/vocation program): 1651  
##  (Other)                                                  : 9271</code></pre>
</div>
</div>
</div>

<p>Copyright &copy; 2024 Lauren Cipriano <p>


</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.odd').parent('tbody').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- tabsets -->

<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});

$(document).ready(function () {
  $('.tabset-dropdown > .nav-tabs > li').click(function () {
    $(this).parent().toggleClass('nav-tabs-open');
  });
});
</script>

<!-- code folding -->

<script>
$(document).ready(function ()  {

    // temporarily add toc-ignore selector to headers for the consistency with Pandoc
    $('.unlisted.unnumbered').addClass('toc-ignore')

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_');
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
